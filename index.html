<!DOCTYPE html>

<html lang="ja">
<head <script async src="https://www.googletagmanager.com/gtag/js?id=G-T0MN5EH7RR"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-T0MN5EH7RR');
</script>
>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>LOVE ORACLE â€” æ·±å±¤æ‹æ„›è¨ºæ–­</title>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@300;400;500;700&family=Cinzel+Decorative:wght@700&family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&display=swap" rel="stylesheet"/>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  min-height:100vh;
  background:linear-gradient(135deg,#0a0015 0%,#120025 40%,#0d0020 70%,#05000f 100%);
  font-family:'Noto Sans JP','Hiragino Sans',sans-serif;
  color:#f0e8ff;
  overflow-x:hidden;
}
#stars{position:fixed;inset:0;pointer-events:none;z-index:0;}
.star{position:absolute;border-radius:50%;background:white;}
.orb{position:fixed;border-radius:50%;pointer-events:none;z-index:0;}
#app{position:relative;z-index:1;max-width:680px;margin:0 auto;padding:40px 20px 80px;}

@keyframes twinkle{from{opacity:0.1;transform:scale(1);}to{opacity:0.7;transform:scale(1.3);}}
@keyframes floatUp{from{opacity:0;transform:translateY(30px);}to{opacity:1;transform:translateY(0);}}
@keyframes shimmer{0%{background-position:-200% center;}100%{background-position:200% center;}}
@keyframes pulseGlow{0%,100%{box-shadow:0 0 20px rgba(180,100,255,0.3);}50%{box-shadow:0 0 40px rgba(180,100,255,0.6),0 0 80px rgba(120,50,200,0.3);}}
@keyframes orbFloat{0%,100%{transform:translate(0,0) scale(1);}33%{transform:translate(30px,-20px) scale(1.05);}66%{transform:translate(-20px,15px) scale(0.95);}}

.fade-in{animation:floatUp 0.6s ease both;}

/* INTRO */
#intro{text-align:center;}
.logo-emoji{font-size:64px;margin-bottom:16px;}
.logo-title{
font-family:â€˜Cinzel Decorativeâ€™,serif;
font-size:clamp(20px,5vw,32px);
letter-spacing:0.1em;
background:linear-gradient(90deg,#c084fc,#f9a8d4,#c084fc);
background-size:200%;
-webkit-background-clip:text;
-webkit-text-fill-color:transparent;
animation:shimmer 4s linear infinite;
margin-bottom:8px;
}
.logo-sub{font-family:â€˜Cormorant Garamondâ€™,serif;font-size:16px;color:rgba(240,232,255,0.6);letter-spacing:0.3em;margin-bottom:40px;}
.intro-card{
background:rgba(255,255,255,0.04);
border:1px solid rgba(180,100,255,0.2);
border-radius:24px;
padding:32px;
margin-bottom:40px;
backdrop-filter:blur(20px);
}
.intro-card p{font-size:15px;line-height:2;color:rgba(240,232,255,0.75);}
.intro-card strong{color:#c084fc;}
.intro-card small{font-size:13px;color:rgba(240,232,255,0.5);}
.btn-start{
background:linear-gradient(135deg,#7c3aed,#db2777);
border:none;
border-radius:99px;
padding:18px 56px;
font-size:17px;
font-weight:700;
color:white;
cursor:pointer;
letter-spacing:0.1em;
font-family:â€˜Noto Sans JPâ€™,sans-serif;
animation:pulseGlow 3s ease-in-out infinite;
transition:transform 0.2s;
}
.btn-start:hover{transform:scale(1.05);}

/* QUIZ */
#quiz{display:none;}
.quiz-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:32px;}
.quiz-brand{font-family:â€˜Cinzel Decorativeâ€™,serif;font-size:13px;color:rgba(192,132,252,0.7);letter-spacing:0.2em;}
.quiz-count{font-size:13px;color:rgba(240,232,255,0.5);}
.progress-wrap{background:rgba(255,255,255,0.07);border-radius:99px;height:3px;margin-bottom:40px;overflow:hidden;}
.progress-bar{height:100%;background:linear-gradient(90deg,#7c3aed,#db2777);border-radius:99px;transition:width 0.4s ease;width:0%;}
.cat-badge{
display:inline-block;
background:rgba(124,58,237,0.2);
border:1px solid rgba(124,58,237,0.4);
border-radius:99px;
padding:4px 14px;
font-size:11px;
letter-spacing:0.15em;
color:#c084fc;
margin-bottom:20px;
}
.question-text{
font-family:â€˜Cormorant Garamondâ€™,serif;
font-size:clamp(20px,4vw,26px);
font-weight:600;
line-height:1.6;
margin-bottom:36px;
color:#f0e8ff;
}
.options{display:flex;flex-direction:column;gap:12px;margin-bottom:32px;}
.opt-btn{
background:rgba(255,255,255,0.04);
border:1px solid rgba(255,255,255,0.1);
border-radius:16px;
padding:18px 22px;
text-align:left;
color:rgba(240,232,255,0.75);
font-size:15px;
line-height:1.6;
cursor:pointer;
display:flex;
align-items:flex-start;
gap:14px;
backdrop-filter:blur(10px);
transition:all 0.25s ease;
font-family:â€˜Noto Sans JPâ€™,sans-serif;
width:100%;
}
.opt-btn:hover{transform:translateX(6px);}
.opt-btn.selected{
background:linear-gradient(135deg,rgba(124,58,237,0.4),rgba(219,39,119,0.3));
border:1px solid rgba(192,132,252,0.7);
color:#f0e8ff;
box-shadow:0 4px 30px rgba(124,58,237,0.3);
}
.opt-label{
min-width:26px;height:26px;
border-radius:50%;
border:2px solid rgba(255,255,255,0.2);
display:flex;align-items:center;justify-content:center;
font-size:11px;font-weight:700;
color:rgba(255,255,255,0.4);
transition:all 0.2s;
flex-shrink:0;
margin-top:1px;
}
.opt-btn.selected .opt-label{
border-color:#c084fc;
background:#7c3aed;
color:white;
}
.btn-next-wrap{display:flex;justify-content:flex-end;}
.btn-next{
background:rgba(255,255,255,0.05);
border:none;
border-radius:99px;
padding:14px 40px;
font-size:15px;
font-weight:700;
color:rgba(255,255,255,0.2);
cursor:not-allowed;
transition:all 0.25s;
font-family:â€˜Noto Sans JPâ€™,sans-serif;
letter-spacing:0.05em;
}
.btn-next.active{
background:linear-gradient(135deg,#7c3aed,#db2777);
color:white;
cursor:pointer;
}

/* RESULT */
#result{display:none;}
.result-header{text-align:center;margin-bottom:48px;}
.result-star{font-size:48px;margin-bottom:12px;}
.result-label{font-family:â€˜Cinzel Decorativeâ€™,serif;font-size:13px;letter-spacing:0.3em;color:#c084fc;margin-bottom:12px;}
.result-title{font-family:â€˜Cormorant Garamondâ€™,serif;font-size:clamp(22px,5vw,32px);font-style:italic;}

.card{
border-radius:24px;
padding:36px;
margin-bottom:24px;
backdrop-filter:blur(20px);
animation:floatUp 0.6s ease both;
}
.card-sm{
border-radius:20px;
padding:24px;
backdrop-filter:blur(15px);
animation:floatUp 0.6s ease both;
}
.grid2{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-bottom:24px;}
.card-label{font-size:10px;letter-spacing:0.15em;color:rgba(240,232,255,0.45);margin-bottom:4px;}
.card-value{font-size:15px;font-weight:700;}
.attach-emoji{font-size:44px;}
.attach-name{font-size:26px;font-weight:700;}
.attach-meta{font-size:11px;letter-spacing:0.2em;color:rgba(240,232,255,0.5);margin-bottom:4px;}
.attach-desc{font-size:15px;line-height:1.9;color:rgba(240,232,255,0.8);}

.section-label{font-size:13px;color:rgba(240,232,255,0.6);margin-bottom:14px;}
.bar-row{margin-bottom:10px;}
.bar-head{display:flex;justify-content:space-between;font-size:12px;color:rgba(255,255,255,0.7);margin-bottom:4px;}
.bar-track{background:rgba(255,255,255,0.08);border-radius:99px;height:8px;overflow:hidden;}
.bar-fill{height:100%;border-radius:99px;transition:width 1.2s cubic-bezier(0.23,1,0.32,1);}

.advice-text{font-size:13px;line-height:1.85;color:rgba(240,232,255,0.7);}
.compat-label{font-size:11px;letter-spacing:0.2em;color:#c084fc;margin-bottom:12px;}
.compat-text{font-size:14px;line-height:1.8;color:rgba(240,232,255,0.75);}

.btn-retry{
background:transparent;
border:1px solid rgba(192,132,252,0.4);
border-radius:99px;
padding:14px 40px;
font-size:14px;
color:rgba(192,132,252,0.8);
cursor:pointer;
letter-spacing:0.1em;
transition:all 0.25s;
font-family:â€˜Noto Sans JPâ€™,sans-serif;
display:block;margin:0 auto;
}
.btn-retry:hover{background:rgba(192,132,252,0.1);}

canvas{display:block;margin:0 auto;}
.radar-label{font-size:11px;letter-spacing:0.2em;color:rgba(240,232,255,0.4);margin-bottom:16px;text-align:center;}
</style>

</head>
<body>

<div id="stars"></div>
<div id="app">

<!-- INTRO -->

<div id="intro" class="fade-in">
  <div class="logo-emoji">ğŸ”®</div>
  <div class="logo-title">LOVE ORACLE</div>
  <div class="logo-sub">æ·±å±¤æ‹æ„›è¨ºæ–­</div>
  <div class="intro-card">
    <p>ã‚ãªãŸã®ç„¡æ„è­˜ã«æ½œã‚€æ‹æ„›ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’ã€å¿ƒç†å­¦ã«åŸºã¥ã<br>
    <strong>12ã®è³ªå•</strong>ã§å¤šè§’çš„ã«è¨ºæ–­ã—ã¾ã™ã€‚<br><br>
    <small>
      ãƒ»æ„›ç€ã‚¹ã‚¿ã‚¤ãƒ«ï¼ˆå®‰å®šå‹ï¼ä¸å®‰å‹ï¼å›é¿å‹ï¼æã‚Œå›é¿å‹ï¼‰<br>
      ãƒ»æ„›æƒ…è¨€èªï¼ˆ5ã¤ã®ãƒ©ãƒ–ãƒ©ãƒ³ã‚²ãƒ¼ã‚¸ï¼‰<br>
      ãƒ»æ‹æ„›ãƒ‘ã‚¿ãƒ¼ãƒ³å‚¾å‘<br>
      ãƒ»ç·åˆçš„ãªæ‹æ„›ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«
    </small>
    </p>
  </div>
  <button class="btn-start" onclick="startQuiz()">è¨ºæ–­ã‚’ã¯ã˜ã‚ã‚‹ âœ¦</button>
</div>

<!-- QUIZ -->

<div id="quiz">
  <div class="quiz-header">
    <div class="quiz-brand">LOVE ORACLE</div>
    <div class="quiz-count" id="qcount">1 / 12</div>
  </div>
  <div class="progress-wrap"><div class="progress-bar" id="progressBar"></div></div>
  <div class="cat-badge" id="catBadge">æ„›ç€ã‚¹ã‚¿ã‚¤ãƒ«</div>
  <div class="question-text" id="questionText"></div>
  <div class="options" id="optionsWrap"></div>
  <div class="btn-next-wrap">
    <button class="btn-next" id="btnNext" onclick="nextQ()">æ¬¡ã¸ â†’</button>
  </div>
</div>

<!-- RESULT -->

<div id="result">
  <div class="result-header fade-in">
    <div class="result-star">âœ¦</div>
    <div class="result-label">YOUR LOVE PROFILE</div>
    <div class="result-title">è¨ºæ–­çµæœ</div>
  </div>
  <div id="resultContent"></div>
</div>

</div>

<script>
const questions=[
  {id:1,cat:"æ„›ç€ã‚¹ã‚¿ã‚¤ãƒ«",text:"å¥½ããªäººã‹ã‚‰è¿”ä¿¡ãŒé…ã„ã¨ãã€ã‚ãªãŸã¯ã©ã†ã—ã¾ã™ã‹ï¼Ÿ",opts:[
    {t:"å°‘ã—æ°—ã«ãªã‚‹ãŒã€å¿™ã—ã„ã®ã ã‚ã†ã¨æ€ã£ã¦å¾…ã¦ã‚‹",s:{secure:3,anxious:0,avoidant:1,fearful:0}},
    {t:"ä½•åº¦ã‚‚ç¢ºèªã—ã¦ã—ã¾ã„ã€ä¸å®‰ã§ä»–ã®ã“ã¨ãŒæ‰‹ã«ã¤ã‹ãªã„",s:{secure:0,anxious:3,avoidant:0,fearful:1}},
    {t:"è‡ªåˆ†ã®ã“ã¨ã«é›†ä¸­ã™ã‚‹ã€‚å‘ã“ã†ãŒè¿”ã—ãŸã„ã¨ãã«è¿”ã™ã ã‚ã†",s:{secure:1,anxious:0,avoidant:3,fearful:0}},
    {t:"å«Œã‚ã‚ŒãŸã‹ã‚‚ã¨æ€ã„ã€è‡ªåˆ†ã‹ã‚‰è·é›¢ã‚’ç½®ãå§‹ã‚ã‚‹",s:{secure:0,anxious:1,avoidant:1,fearful:3}},
  ]},
  {id:2,cat:"æ„›æƒ…è¨€èª",text:"ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã«ä¸€ç•ªæ„›æƒ…ã‚’æ„Ÿã˜ã‚‹ç¬é–“ã¯ã©ã‚Œã§ã™ã‹ï¼Ÿ",opts:[
    {t:"ã€Œå¥½ãã€ã€Œå¤§åˆ‡ã€ãªã©è¨€è‘‰ã§ä¼ãˆã¦ãã‚ŒãŸã¨ã",s:{words:3,acts:0,gifts:0,time:1,touch:0}},
    {t:"ã•ã‚Šã’ãªãåŠ©ã‘ã¦ãã‚ŒãŸã‚Šã€æ°—é£ã£ã¦ãã‚ŒãŸã¨ã",s:{words:0,acts:3,gifts:0,time:1,touch:0}},
    {t:"ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚„ã€Œã“ã‚Œå¥½ãã‹ã¨æ€ã£ã¦ã€ã¨æ¸¡ã—ã¦ãã‚ŒãŸã¨ã",s:{words:0,acts:0,gifts:3,time:0,touch:1}},
    {t:"ãŸã ä¸€ç·’ã«ã„ã¦ãã‚Œã‚‹æ™‚é–“ãŒå¢—ãˆãŸã¨ã",s:{words:0,acts:1,gifts:0,time:3,touch:0}},
    {t:"æ‰‹ã‚’ç¹‹ã„ã ã‚Šã€ãƒã‚°ã—ã¦ãã‚ŒãŸã¨ã",s:{words:0,acts:0,gifts:0,time:1,touch:3}},
  ]},
  {id:3,cat:"è‘›è—¤å¯¾å‡¦",text:"ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨æ„è¦‹ãŒè¡çªã—ãŸã¨ãã€ã‚ãªãŸã¯ã©ã†ã—ã¾ã™ã‹ï¼Ÿ",opts:[
    {t:"æ„Ÿæƒ…çš„ã«ãªã£ã¦ã‚‚ã€æœ€çµ‚çš„ã«ã¯è©±ã—åˆã„ã§è§£æ±ºã—ã‚ˆã†ã¨ã™ã‚‹",s:{secure:2,anxious:1,avoidant:0,fearful:0}},
    {t:"ç›¸æ‰‹ãŒæ€’ã£ãŸã‚‰æ€–ãã¦ã€ã™ãè¬ã£ã¦ã—ã¾ã†",s:{secure:0,anxious:2,avoidant:0,fearful:2}},
    {t:"è¨€ã„åˆã„ã«ãªã‚Šãã†ãªã‚‰ã€ãã®å ´ã‚’é›¢ã‚Œã¦ä¸€äººã«ãªã‚‹",s:{secure:0,anxious:0,avoidant:3,fearful:1}},
    {t:"è‡ªåˆ†ã®æ°—æŒã¡ã‚’æŠ‘ãˆã¦ã€ç›¸æ‰‹ã®æ„è¦‹ã«åˆã‚ã›ã‚‹",s:{secure:0,anxious:1,avoidant:1,fearful:2}},
  ]},
  {id:4,cat:"æ„›æƒ…è¨€èª",text:"ã‚ãªãŸãŒæ‹äººã«ä¸€ç•ªã—ã¦ã‚ã’ãŸã„ã“ã¨ã¯ï¼Ÿ",opts:[
    {t:"æ¯æ—¥ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚„è¨€è‘‰ã§æ„›æƒ…ã‚’ä¼ãˆã‚‹",s:{words:3,acts:0,gifts:0,time:0,touch:0}},
    {t:"å›°ã£ã¦ã„ã‚‹ã¨ãã«å…ˆå›ã‚Šã—ã¦åŠ©ã‘ã‚‹",s:{words:0,acts:3,gifts:0,time:0,touch:0}},
    {t:"èª•ç”Ÿæ—¥ã‚„è¨˜å¿µæ—¥ã«ç‰¹åˆ¥ãªãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚’è´ˆã‚‹",s:{words:0,acts:0,gifts:3,time:0,touch:0}},
    {t:"äºˆå®šã‚’åˆã‚ã›ã¦ã§ãã‚‹ã ã‘ä¸€ç·’ã«ã„ã‚‹",s:{words:0,acts:0,gifts:0,time:3,touch:0}},
    {t:"ç–²ã‚Œã¦ã„ã‚‹ã¨ãã«å¯„ã‚Šæ·»ã£ã¦ã‚ã’ã‚‹",s:{words:0,acts:0,gifts:0,time:1,touch:3}},
  ]},
  {id:5,cat:"æ‹æ„›ãƒ‘ã‚¿ãƒ¼ãƒ³",text:"æ‹æ„›ãŒå§‹ã¾ã‚‹ã¨ã€ã‚ãªãŸã¯ã©ã‚“ãªå¤‰åŒ–ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ",opts:[
    {t:"ç›¸æ‰‹ã®ã“ã¨ã‚’è€ƒãˆã¤ã¤ã€è‡ªåˆ†ã®ç”Ÿæ´»ãƒªã‚ºãƒ ã‚‚ä¿ã¦ã‚‹",s:{healthy:3,codep:0,indep:1,intense:0}},
    {t:"ç›¸æ‰‹ä¸­å¿ƒã®ç”Ÿæ´»ã«ãªã‚Šã€å‹äººã¨ã®ç´„æŸã‚’æ–­ã‚‹ã“ã¨ãŒå¢—ãˆã‚‹",s:{healthy:0,codep:3,indep:0,intense:1}},
    {t:"æ‹æ„›ã§ã‚‚ãƒã‚¤ãƒšãƒ¼ã‚¹ã€‚ç›¸æ‰‹ã«åˆã‚ã›ã™ãã‚‹ã“ã¨ãŒè‹¦æ‰‹",s:{healthy:1,codep:0,indep:3,intense:0}},
    {t:"å…¨åŠ›ã§æ„›ã—ã¦å…¨åŠ›ã§å‚·ã¤ãã€‚æ„Ÿæƒ…ã®æŒ¯ã‚Œå¹…ãŒå¤§ãã„",s:{healthy:0,codep:1,indep:0,intense:3}},
  ]},
  {id:6,cat:"æ„›ç€ã‚¹ã‚¿ã‚¤ãƒ«",text:"ã€Œã“ã®äººã¯æœ¬å½“ã«è‡ªåˆ†ã®ã“ã¨ãŒå¥½ããªã®ã‹ãªã€ã¨æ„Ÿã˜ã‚‹ã“ã¨ãŒâ€¦",opts:[
    {t:"ã»ã¨ã‚“ã©ãªã„ã€‚ä¿¡é ¼ã—ã¦ã„ã‚Œã°å¤§ä¸ˆå¤«ã ã¨æ€ã†",s:{secure:3,anxious:0,avoidant:1,fearful:0}},
    {t:"ã‚ˆãã‚ã‚‹ã€‚ç¢ºã‹ã‚ãŸãã¦è©¦ã—ã¦ã—ã¾ã†ã“ã¨ã‚‚ã‚ã‚‹",s:{secure:0,anxious:3,avoidant:0,fearful:1}},
    {t:"ã‚ã¾ã‚Šãªã„ã€‚ã¨ã„ã†ã‹æ·±ãè€ƒãˆãªã„ã‚ˆã†ã«ã—ã¦ã„ã‚‹",s:{secure:1,anxious:0,avoidant:3,fearful:0}},
    {t:"é »ç¹ã«ã‚ã‚‹ã€‚å¥½ãã«ãªã‚‹ã»ã©ä¸å®‰ãŒå¤§ãããªã‚‹",s:{secure:0,anxious:2,avoidant:0,fearful:3}},
  ]},
  {id:7,cat:"æ‹æ„›ãƒ‘ã‚¿ãƒ¼ãƒ³",text:"éå»ã®æ‹æ„›ã‚’æŒ¯ã‚Šè¿”ã£ãŸã¨ãã€æœ€ã‚‚å¤šã„ãƒ‘ã‚¿ãƒ¼ãƒ³ã¯ï¼Ÿ",opts:[
    {t:"ãŠäº’ã„ã‚’å°Šé‡ã—ãªãŒã‚‰è‡ªç„¶ã«æ·±ã¾ã£ã¦ã„ã£ãŸ",s:{healthy:3,codep:0,indep:1,intense:0}},
    {t:"æ€¥æ¿€ã«ç‡ƒãˆä¸ŠãŒã‚Šã€æ€¥æ¿€ã«ç‡ƒãˆå°½ããŸ",s:{healthy:0,codep:1,indep:0,intense:3}},
    {t:"å¥½ãã«ãªã‚‰ã‚Œã‚‹ã¨å†·ã‚ã¦ã—ã¾ã†ã€ã‚’ç¹°ã‚Šè¿”ã—ãŸ",s:{healthy:0,codep:0,indep:3,intense:0}},
    {t:"ç›¸æ‰‹ã«å°½ãã—ã™ãã¦ç–²å¼Šã—ãŸ",s:{healthy:0,codep:3,indep:0,intense:1}},
  ]},
  {id:8,cat:"æ„›æƒ…è¨€èª",text:"æ‹äººã«ã€Œã‚ã‚ŠãŒã¨ã†ã€ã‚’ä¼ãˆã‚‹ã¨ã—ãŸã‚‰ï¼Ÿ",opts:[
    {t:"ã‚¹ãƒˆãƒ¬ãƒ¼ãƒˆã«è¨€è‘‰ã§ä¼ãˆã‚‹",s:{words:3,acts:0,gifts:0,time:0,touch:0}},
    {t:"ç›¸æ‰‹ã®å¥½ããªæ–™ç†ã‚’ä½œã‚‹ãªã©è¡Œå‹•ã§ç¤ºã™",s:{words:0,acts:3,gifts:1,time:0,touch:0}},
    {t:"å°ã•ãªãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚’ãã£ã¨æ¸¡ã™",s:{words:0,acts:0,gifts:3,time:0,touch:0}},
    {t:"ã€Œä»Šæ—¥ã©ã“ã‹è¡Œã“ã†ã€ã¨æ™‚é–“ã‚’ä½œã‚‹",s:{words:0,acts:0,gifts:0,time:3,touch:0}},
    {t:"èƒŒä¸­ã‚’ã•ã™ã£ãŸã‚Šã€æ‰‹ã‚’æ¡ã‚‹",s:{words:1,acts:0,gifts:0,time:0,touch:3}},
  ]},
  {id:9,cat:"æ„›ç€ã‚¹ã‚¿ã‚¤ãƒ«",text:"ã€Œã‚‚ã£ã¨è‡ªç”±ã«ã—ãŸã„ã€ã¨æ„Ÿã˜ã‚‹ã®ã¯ã„ã¤ï¼Ÿ",opts:[
    {t:"ã‚ã¾ã‚Šæ„Ÿã˜ãªã„ã€‚ä¸€ç·’ã«ã„ã‚‹æ™‚é–“ãŒè‡ªç„¶ã¨å¥½ã",s:{secure:3,anxious:0,avoidant:0,fearful:1}},
    {t:"ç›¸æ‰‹ãŒè‡ªåˆ†ã«ç„¡é–¢å¿ƒã«è¦‹ãˆã‚‹ã¨ã",s:{secure:0,anxious:2,avoidant:0,fearful:2}},
    {t:"ç›¸æ‰‹ãŒè¿‘ã¥ã„ã¦ãã‚‹ã»ã©é€ƒã’ãŸããªã‚‹",s:{secure:0,anxious:0,avoidant:3,fearful:1}},
    {t:"å¥½ããªã®ã«è¿‘ã¥ã‹ã‚Œã‚‹ã¨æ€–ãã¦è·é›¢ã‚’å–ã‚ŠãŸããªã‚‹",s:{secure:0,anxious:1,avoidant:1,fearful:3}},
  ]},
  {id:10,cat:"æ‹æ„›ãƒ‘ã‚¿ãƒ¼ãƒ³",text:"ç†æƒ³ã®æ‹æ„›ã®ãƒšãƒ¼ã‚¹ã¯ï¼Ÿ",opts:[
    {t:"ã‚†ã£ãã‚Šæ™‚é–“ã‚’ã‹ã‘ã¦ä¿¡é ¼ã‚’ç©ã¿ä¸Šã’ãŸã„",s:{healthy:3,codep:0,indep:2,intense:0}},
    {t:"æ—©ãæ·±ã„é–¢ä¿‚ã«ãªã‚ŠãŸã„ã€‚è·é›¢æ„ŸãŒç¸®ã¾ã‚‹ã»ã©å®‰å¿ƒã™ã‚‹",s:{healthy:0,codep:3,indep:0,intense:1}},
    {t:"ãŠäº’ã„ã®ç”Ÿæ´»ã‚’å¤§åˆ‡ã«ã—ãªãŒã‚‰ã€ã‚†ã‚‹ãã¤ãªãŒã£ã¦ã„ãŸã„",s:{healthy:1,codep:0,indep:3,intense:0}},
    {t:"æœ€åˆã‹ã‚‰å…¨åŠ›ã§ã€‚ãã®æ¿€ã—ã•ãŒæ‹æ„›ã ã¨æ€ã†",s:{healthy:0,codep:1,indep:0,intense:3}},
  ]},
  {id:11,cat:"æ·±å±¤å¿ƒç†",text:"æ‹æ„›ã«ãŠã„ã¦ã€ã‚ãªãŸãŒæœ€ã‚‚æã‚Œã¦ã„ã‚‹ã“ã¨ã¯ï¼Ÿ",opts:[
    {t:"æ¨ã¦ã‚‰ã‚Œã‚‹ã“ã¨ãƒ»è¦‹æ¨ã¦ã‚‰ã‚Œã‚‹ã“ã¨",s:{anxious:3,fearful:2,avoidant:0,secure:0}},
    {t:"æ·±ãå‚·ã¤ãã“ã¨ãƒ»å‚·ã¤ã‘ã‚‰ã‚Œã‚‹ã“ã¨",s:{fearful:3,avoidant:1,anxious:1,secure:0}},
    {t:"è‡ªåˆ†ã‚’å¤±ã†ã“ã¨ãƒ»æŸç¸›ã•ã‚Œã‚‹ã“ã¨",s:{avoidant:3,indep:2,codep:0,healthy:0}},
    {t:"ç›¸æ‰‹ã‚’å‚·ã¤ã‘ã¦ã—ã¾ã†ã“ã¨",s:{secure:1,healthy:2,anxious:1,fearful:1}},
  ]},
  {id:12,cat:"æ·±å±¤å¿ƒç†",text:"ã€Œæ„›ã—ã¦ã„ã‚‹ã€ã¨ã„ã†è¨€è‘‰ã‚’ã€ã‚ãªãŸã¯ã©ã†æ„Ÿã˜ã¾ã™ã‹ï¼Ÿ",opts:[
    {t:"ç´ ç›´ã«å¬‰ã—ã„ã—ã€è‡ªåˆ†ã‚‚ä¼ãˆãŸã„ã¨æ€ã†",s:{secure:3,healthy:2,words:2}},
    {t:"å¬‰ã—ã„ã‘ã©ã€æœ¬å½“ã‹ãªï¼Ÿã¨å°‘ã—ç–‘ã£ã¦ã—ã¾ã†",s:{anxious:3,fearful:1}},
    {t:"ãªã‚“ã¨ãªãã“ãã°ã‚†ãã¦ã€ã†ã¾ãå—ã‘å–ã‚Œãªã„",s:{avoidant:2,indep:2}},
    {t:"å¬‰ã—ã„ã®ã«ã€ãã‚ŒãŒæ€–ãã¦è·é›¢ã‚’ç½®ããŸããªã‚‹",s:{fearful:3,avoidant:1}},
  ]},
];

const attachTypes={
  secure:{name:"å®‰å®šå‹",emoji:"ğŸŒ¿",color:"#4ade80",desc:"è‡ªå·±è‚¯å®šæ„ŸãŒé«˜ãã€ä¿¡é ¼ãƒ™ãƒ¼ã‚¹ã®æ‹æ„›ãŒã§ãã¾ã™ã€‚ç›¸æ‰‹ã‚’ä¿¡ã˜ãªãŒã‚‰ã‚‚è‡ªç«‹ã—ã¦ãŠã‚Šã€å¥å…¨ãªè·é›¢æ„Ÿã‚’ä¿ã¦ã‚‹ã€Œæ‹æ„›ã®ç†æƒ³å½¢ã€ã¨è¨€ãˆã¾ã™ã€‚"},
  anxious:{name:"ä¸å®‰å‹",emoji:"ğŸŒŠ",color:"#60a5fa",desc:"æ„›æƒ…ã«é£¢ãˆã¦ãŠã‚Šã€ç¢ºèªã‚„è©¦ã—è¡Œå‹•ãŒå‡ºã‚„ã™ã„ã‚¿ã‚¤ãƒ—ã€‚æ„›ã•ã‚ŒãŸã„æ°—æŒã¡ãŒå¼·ã„ã¶ã‚“ã€æ·±ãæ„›ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚"},
  avoidant:{name:"å›é¿å‹",emoji:"ğŸŒ™",color:"#a78bfa",desc:"è¦ªå¯†ã•ã«å¯¾ã—ç„¡æ„è­˜ã®é˜²è¡›ãŒåƒãã‚¿ã‚¤ãƒ—ã€‚ç‹¬ç«‹å¿ƒã¯å¼·ãé­…åŠ›çš„ã§ã™ãŒã€æœ¬å½“ã®æ„å‘³ã§ã®ã¤ãªãŒã‚Šã‚’é¿ã‘ã‚‹å‚¾å‘ãŒã‚ã‚Šã¾ã™ã€‚"},
  fearful:{name:"æã‚Œãƒ»å›é¿å‹",emoji:"ğŸŒªï¸",color:"#f87171",desc:"æ„›ã•ã‚ŒãŸã„ã®ã«è¿‘ã¥ãã®ãŒæ€–ã„ã€ã¨ã„ã†çŸ›ç›¾ã—ãŸæ„Ÿæƒ…ã‚’æŒã¤ã‚¿ã‚¤ãƒ—ã€‚å†…é¢ã®è±Šã‹ã•ã¨ç¹Šç´°ã•ã‚’æŒã£ã¦ã„ã¾ã™ã€‚"},
};
const langTypes={
  words:{name:"è¨€è‘‰ã®æ„›æƒ…è¡¨ç¾",emoji:"ğŸ’¬",color:"#fbbf24"},
  acts:{name:"è¦ªåˆ‡ãªè¡Œç‚º",emoji:"ğŸ¤",color:"#34d399"},
  gifts:{name:"è´ˆã‚Šç‰©",emoji:"ğŸ",color:"#f472b6"},
  time:{name:"ã‚¯ã‚ªãƒªãƒ†ã‚£ã‚¿ã‚¤ãƒ ",emoji:"â³",color:"#60a5fa"},
  touch:{name:"ã‚¹ã‚­ãƒ³ã‚·ãƒƒãƒ—",emoji:"ğŸ’",color:"#fb923c"},
};
const patTypes={
  healthy:{name:"ãƒãƒ©ãƒ³ã‚¹å‹",emoji:"â˜¯ï¸",color:"#4ade80"},
  codep:{name:"å…±ä¾å­˜å‹",emoji:"ğŸ”—",color:"#f87171"},
  indep:{name:"è‡ªç«‹å„ªå…ˆå‹",emoji:"ğŸ¦…",color:"#a78bfa"},
  intense:{name:"æƒ…ç†±ç‡ƒç„¼å‹",emoji:"ğŸ”¥",color:"#fb923c"},
};

const adviceMap={
  secure:"ã‚ãªãŸã®å®‰å®šæ„Ÿã¯å¤§ããªå¼·ã¿ã§ã™ã€‚ãã®ä¿¡é ¼ã®æ ¹ã‚’ã€ã¾ã ä¸å®‰ã‚’æŠ±ãˆã‚‹ç›¸æ‰‹ã®ãŸã‚ã«æƒœã—ã¾ãšåˆ†ã‘ã¦ã‚ã’ã¦ã€‚",
  anxious:"ã€Œç¢ºã‹ã‚ãªãã¦ã‚‚å¤§ä¸ˆå¤«ã€ã¨ã„ã†çµŒé¨“ã‚’å°‘ã—ãšã¤ç©ã‚“ã§ã„ã“ã†ã€‚è‡ªåˆ†è‡ªèº«ã‚’æº€ãŸã™ã“ã¨ãŒã€æ„›ã•ã‚Œã‚‹éµã§ã™ã€‚",
  avoidant:"è·é›¢ã‚’ç½®ãã®ã¯é˜²è¡›æœ¬èƒ½ã€‚å‚·ã¤ãã“ã¨ã‚’æã‚Œã™ããšã€å°‘ã—ã ã‘å¿ƒã®éµã‚’é–‹ã‘ã¦ã¿ã‚‹ã¨ä¸–ç•ŒãŒå¤‰ã‚ã‚Šã¾ã™ã€‚",
  fearful:"å¼•åŠ›ã¨æ–¥åŠ›ãŒåŒæ™‚ã«åƒãã‚ãªãŸã®æ‹æ„›ã¯æ·±ãè¤‡é›‘ã€‚ã¾ãšè‡ªåˆ†è‡ªèº«ã¨å®‰å¿ƒã§ãã‚‹é–¢ä¿‚ã‚’ç¯‰ãã“ã¨ãŒå¤§åˆ‡ã§ã™ã€‚",
};
const compatMap={
  secure:"ã©ã®ã‚¿ã‚¤ãƒ—ã¨ã‚‚ç›¸æ€§è‰¯ã—ã€‚ç‰¹ã«ä¸å®‰å‹ã‚„æã‚Œå›é¿å‹ã®ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã®å®‰å…¨åŸºåœ°ã«ãªã‚Œã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚",
  anxious:"å®‰å®šå‹ã¨ã®é–¢ä¿‚ã§å®‰å¿ƒæ„Ÿã‚’å­¦ã¶ã®ãŒç†æƒ³ã€‚åŒã˜ä¸å®‰å‹åŒå£«ã¯å…±é³´ã—ã‚„ã™ã„ãŒã€ä¸å®‰ãŒå¢—å¹…ã™ã‚‹ã“ã¨ã‚‚ã€‚",
  avoidant:"å®‰å®šå‹ãŒæœ€è‰¯ã®ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã€‚æŠ¼ã—ã¤ã‘ãšã€ã§ã‚‚é›¢ã‚Œãªã„å®‰å¿ƒæ„Ÿã‚ã‚‹å­˜åœ¨ãŒå¿ƒã‚’é–‹ã‹ã›ã¦ãã‚Œã¾ã™ã€‚",
  fearful:"å®‰å®šå‹ã®ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ãŒæœ€ã‚‚åŠ©ã‘ã«ãªã‚Šã¾ã™ã€‚ç„¦ã‚‰ãšã€ã‚†ã£ãã‚Šã¨ä¿¡é ¼ã‚’ç©ã¿ä¸Šã’ã‚‹é–¢ä¿‚ãŒç†æƒ³çš„ã€‚",
};

let cur=0,selected=null,scores={secure:0,anxious:0,avoidant:0,fearful:0,words:0,acts:0,gifts:0,time:0,touch:0,healthy:0,codep:0,indep:0,intense:0};

function startQuiz(){
  document.getElementById('intro').style.display='none';
  document.getElementById('quiz').style.display='block';
  renderQ();
}

function renderQ(){
  const q=questions[cur];
  document.getElementById('qcount').textContent=(cur+1)+' / '+questions.length;
  document.getElementById('progressBar').style.width=(cur/questions.length*100)+'%';
  document.getElementById('catBadge').textContent=q.cat;
  document.getElementById('questionText').textContent=q.text;
  selected=null;
  document.getElementById('btnNext').className='btn-next';

  const wrap=document.getElementById('optionsWrap');
  wrap.innerHTML='';
  q.opts.forEach((opt,i)=>{
    const btn=document.createElement('button');
    btn.className='opt-btn';
    btn.innerHTML=`<span class="opt-label">${String.fromCharCode(65+i)}</span><span>${opt.t}</span>`;
    btn.onclick=()=>selectOpt(i,btn);
    wrap.appendChild(btn);
  });
}

function selectOpt(i,btn){
  document.querySelectorAll('.opt-btn').forEach(b=>b.classList.remove('selected'));
  document.querySelectorAll('.opt-label').forEach((l,idx)=>{l.textContent=String.fromCharCode(65+idx);});
  btn.classList.add('selected');
  btn.querySelector('.opt-label').textContent='âœ“';
  selected=i;
  document.getElementById('btnNext').className='btn-next active';
  document.getElementById('btnNext').textContent=cur+1===questions.length?'çµæœã‚’è¦‹ã‚‹ â†’':'æ¬¡ã¸ â†’';
}

function nextQ(){
  if(selected===null)return;
  const opt=questions[cur].opts[selected];
  Object.entries(opt.s).forEach(([k,v])=>{ if(k in scores) scores[k]+=v; });
  cur++;
  if(cur<questions.length){
    renderQ();
  } else {
    showResult();
  }
}

function maxKey(keys){return keys.reduce((a,b)=>scores[a]>scores[b]?a:b);}

function showResult(){
  document.getElementById('quiz').style.display='none';
  document.getElementById('result').style.display='block';

  const attachKey=maxKey(['secure','anxious','avoidant','fearful']);
  const langKey=maxKey(['words','acts','gifts','time','touch']);
  const patKey=maxKey(['healthy','codep','indep','intense']);
  const at=attachTypes[attachKey];
  const lt=langTypes[langKey];
  const pt=patTypes[patKey];

  const html=`
  <div class="card fade-in" style="background:linear-gradient(135deg,${at.color}18,${at.color}08);border:1px solid ${at.color}44;animation-delay:0.2s">
    <div style="display:flex;align-items:center;gap:16px;margin-bottom:20px;">
      <div style="font-size:44px">${at.emoji}</div>
      <div>
        <div class="attach-meta">æ„›ç€ã‚¹ã‚¿ã‚¤ãƒ«</div>
        <div class="attach-name" style="color:${at.color}">${at.name}</div>
      </div>
    </div>
    <div class="attach-desc">${at.desc}</div>
  </div>

  <div class="grid2">
    <div class="card-sm fade-in" style="background:linear-gradient(135deg,${lt.color}15,${lt.color}06);border:1px solid ${lt.color}33;animation-delay:0.3s">
      <div style="font-size:32px;margin-bottom:10px">${lt.emoji}</div>
      <div class="card-label">æ„›æƒ…è¨€èª</div>
      <div class="card-value" style="color:${lt.color}">${lt.name}</div>
    </div>
    <div class="card-sm fade-in" style="background:linear-gradient(135deg,${pt.color}15,${pt.color}06);border:1px solid ${pt.color}33;animation-delay:0.4s">
      <div style="font-size:32px;margin-bottom:10px">${pt.emoji}</div>
      <div class="card-label">æ‹æ„›ãƒ‘ã‚¿ãƒ¼ãƒ³</div>
      <div class="card-value" style="color:${pt.color}">${pt.name}</div>
    </div>
  </div>

  <div class="card fade-in" style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.08);animation-delay:0.5s">
    <div style="font-size:12px;letter-spacing:0.2em;color:rgba(240,232,255,0.45);margin-bottom:24px">DETAILED ANALYSIS</div>
    <div style="margin-bottom:28px">
      <div class="section-label">â–¸ æ„›ç€ã‚¹ã‚¿ã‚¤ãƒ«</div>
      ${Object.entries(attachTypes).map(([k,v])=>barHTML(v.name,scores[k],15,v.color,v.emoji)).join('')}
    </div>
    <div style="margin-bottom:28px">
      <div class="section-label">â–¸ æ„›æƒ…è¨€èª</div>
      ${Object.entries(langTypes).map(([k,v])=>barHTML(v.name,scores[k],12,v.color,v.emoji)).join('')}
    </div>
    <div>
      <div class="section-label">â–¸ æ‹æ„›ãƒ‘ã‚¿ãƒ¼ãƒ³</div>
      ${Object.entries(patTypes).map(([k,v])=>barHTML(v.name,scores[k],12,v.color,v.emoji)).join('')}
    </div>
  </div>

  <div class="grid2">
    <div class="card-sm fade-in" style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.08);animation-delay:0.6s">
      <div class="radar-label">RADAR CHART</div>
      <canvas id="radarCanvas" width="200" height="200"></canvas>
    </div>
    <div class="card-sm fade-in" style="background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.08);animation-delay:0.7s">
      <div style="font-size:11px;letter-spacing:0.2em;color:rgba(240,232,255,0.4);margin-bottom:16px">ADVICE</div>
      <div class="advice-text">${adviceMap[attachKey]}</div>
    </div>
  </div>

  <div class="card fade-in" style="background:linear-gradient(135deg,rgba(124,58,237,0.2),rgba(219,39,119,0.15));border:1px solid rgba(192,132,252,0.25);animation-delay:0.8s">
    <div class="compat-label">âœ¦ ç›¸æ€§ã®è‰¯ã„ã‚¿ã‚¤ãƒ—</div>
    <div class="compat-text">${compatMap[attachKey]}</div>
  </div>

  <div style="text-align:center;margin-top:32px">
    <button class="btn-retry" onclick="retry()">ã‚‚ã†ä¸€åº¦è¨ºæ–­ã™ã‚‹</button>
  </div>
  `;

  document.getElementById('resultContent').innerHTML=html;

  setTimeout(()=>{
    drawRadar();
    animateBars();
  },200);
}

function barHTML(label,val,max,color,emoji){
  return `<div class="bar-row">
    <div class="bar-head"><span>${emoji} ${label}</span><span style="color:${color}">0%</span></div>
    <div class="bar-track"><div class="bar-fill" style="width:0%;background:linear-gradient(90deg,${color}88,${color})" data-val="${Math.round(val/Math.max(max,1)*100)}"></div></div>
  </div>`;
}

function animateBars(){
  document.querySelectorAll('.bar-fill').forEach(el=>{
    const v=el.dataset.val;
    setTimeout(()=>{
      el.style.width=v+'%';
      el.closest('.bar-row').querySelector('.bar-head span:last-child').textContent=v+'%';
    },100);
  });
}

function drawRadar(){
  const canvas=document.getElementById('radarCanvas');
  if(!canvas)return;
  const ctx=canvas.getContext('2d');
  const size=200,cx=100,cy=100,r=70;
  const data=[
    {label:"å®‰å®š",val:scores.secure,max:15},
    {label:"ä¸å®‰",val:scores.anxious,max:15},
    {label:"å›é¿",val:scores.avoidant,max:15},
    {label:"æã‚Œ",val:scores.fearful,max:15},
    {label:"å¥å…¨",val:scores.healthy,max:12},
    {label:"æƒ…ç†±",val:scores.intense,max:12},
  ];
  const n=data.length;
  const step=Math.PI*2/n;

  ctx.clearRect(0,0,size,size);

  // Grid
  [0.25,0.5,0.75,1].forEach(lv=>{
    ctx.beginPath();
    data.forEach((_,i)=>{
      const a=i*step-Math.PI/2;
      const x=cx+r*lv*Math.cos(a),y=cy+r*lv*Math.sin(a);
      i===0?ctx.moveTo(x,y):ctx.lineTo(x,y);
    });
    ctx.closePath();
    ctx.strokeStyle='rgba(255,255,255,0.1)';
    ctx.lineWidth=1;
    ctx.stroke();
  });

  // Axes
  data.forEach((_,i)=>{
    const a=i*step-Math.PI/2;
    ctx.beginPath();
    ctx.moveTo(cx,cy);
    ctx.lineTo(cx+r*Math.cos(a),cy+r*Math.sin(a));
    ctx.strokeStyle='rgba(255,255,255,0.1)';
    ctx.stroke();
  });

  // Data polygon
  ctx.beginPath();
  data.forEach((d,i)=>{
    const a=i*step-Math.PI/2;
    const v=(d.val/Math.max(d.max,1));
    const x=cx+r*v*Math.cos(a),y=cy+r*v*Math.sin(a);
    i===0?ctx.moveTo(x,y):ctx.lineTo(x,y);
  });
  ctx.closePath();
  ctx.fillStyle='rgba(180,100,255,0.25)';
  ctx.fill();
  ctx.strokeStyle='rgba(200,130,255,0.8)';
  ctx.lineWidth=2;
  ctx.stroke();

  // Dots
  data.forEach((d,i)=>{
    const a=i*step-Math.PI/2;
    const v=(d.val/Math.max(d.max,1));
    ctx.beginPath();
    ctx.arc(cx+r*v*Math.cos(a),cy+r*v*Math.sin(a),4,0,Math.PI*2);
    ctx.fillStyle='#c084fc';
    ctx.fill();
  });

  // Labels
  ctx.fillStyle='rgba(255,255,255,0.6)';
  ctx.font='9px Noto Sans JP';
  ctx.textAlign='center';
  ctx.textBaseline='middle';
  data.forEach((d,i)=>{
    const a=i*step-Math.PI/2;
    ctx.fillText(d.label,cx+(r+20)*Math.cos(a),cy+(r+20)*Math.sin(a));
  });
}

function retry(){
  cur=0;selected=null;
  Object.keys(scores).forEach(k=>scores[k]=0);
  document.getElementById('result').style.display='none';
  document.getElementById('intro').style.display='block';
}

// Stars
const starsEl=document.getElementById('stars');
for(let i=0;i<60;i++){
  const s=document.createElement('div');
  s.className='star';
  const sz=Math.random()*2+1;
  s.style.cssText=`width:${sz}px;height:${sz}px;left:${Math.random()*100}%;top:${Math.random()*100}%;opacity:${Math.random()*0.6+0.1};animation:twinkle ${Math.random()*3+2}s ease-in-out infinite alternate;animation-delay:${Math.random()*4}s`;
  starsEl.appendChild(s);
}
</script>

</body>
</html>
